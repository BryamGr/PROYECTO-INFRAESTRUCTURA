<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Dashboard de Inventario</title>
  <link rel="stylesheet" href="style.css" />
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"/>
</head>
<body>
  <header>
    <div class="header-content">
      <div class="header-text">
        <h1><i class="fas fa-boxes"></i> Dashboard de Inventario</h1>
        <p>Gestión completa de productos envasados</p>
      </div>
      <div class="header-actions">
        <button id="registerUser" class="btn-secondary">
          <i class="fas fa-user-plus"></i> Registrar Usuario
        </button>
        <button id="addProduct" class="btn-primary">
          <i class="fas fa-plus"></i> Ingresar Producto
        </button>
      </div>
    </div>
  </header>

  <main>
    <section class="cards">
      <div class="card blue">
        <div class="card-icon"><i class="fas fa-box"></i></div>
        <div class="card-content">
          <h3>Total de Productos</h3>
          <p id="totalProducts">0</p>
        </div>
      </div>
      <div class="card green">
        <div class="card-icon"><i class="fas fa-layer-group"></i></div>
        <div class="card-content">
          <h3>Cantidad Total</h3>
          <p id="totalQuantity">0</p>
        </div>
      </div>
      <div class="card purple">
        <div class="card-icon"><i class="fas fa-dollar-sign"></i></div>
        <div class="card-content">
          <h3>Valor del Inventario</h3>
          <p id="inventoryValue">$0.00</p>
        </div>
      </div>
      <div class="card red">
        <div class="card-icon"><i class="fas fa-exclamation-triangle"></i></div>
        <div class="card-content">
          <h3>Próximos a Vencer</h3>
          <p id="nextExpire">0</p>
        </div>
      </div>
    </section>


    <section class="charts">
      <div class="chart-box">
        <div class="chart-header">
          <h3><i class="fas fa-chart-pie"></i> Productos por Categoría</h3>
          <button class="btn-chart-action"><i class="fas fa-download"></i></button>
        </div>
        <canvas id="categoryChart"></canvas>
      </div>

      <div class="chart-box">
        <div class="chart-header">
          <h3><i class="fas fa-chart-bar"></i> Estado de Vencimiento</h3>
          <button class="btn-chart-action"><i class="fas fa-download"></i></button>
        </div>
        <canvas id="expiryChart"></canvas>
      </div>

      <div class="chart-box">
        <div class="chart-header">
          <h3><i class="fas fa-chart-line"></i> Evolución del Inventario</h3>
          <button class="btn-chart-action"><i class="fas fa-download"></i></button>
        </div>
        <canvas id="trendChart"></canvas>
      </div>
    </section>


    <section class="table-section">
      <div class="section-header">
        <h3><i class="fas fa-table"></i> Inventario de Productos</h3>
        <div class="table-actions">
          <button class="btn-secondary" id="exportBtn">
            <i class="fas fa-file-export"></i> Exportar
          </button>
          <button class="btn-secondary" id="filterBtn">
            <i class="fas fa-filter"></i> Filtros Avanzados
          </button>
        </div>
      </div>

      <div class="filters">
        <div class="search-box">
          <i class="fas fa-search"></i>
          <input type="text" id="search" placeholder="Buscar productos..."/>
        </div>
        <div class="filter-controls">
          <select id="filterCategory">
            <option value="all">Todas las categorías</option>
            <option value="Conservas Saladas">Conservas Saladas</option>
            <option value="Conservas Dulces">Conservas Dulces</option>
            <option value="Pescados y Mariscos">Pescados y Mariscos</option>
            <option value="Frutas en Conserva">Frutas en Conserva</option>
            <option value="Salsas">Salsas</option>
          </select>
          <select id="filterExpiry">
            <option value="all">Todos los estados</option>
            <option value="expired">Vencidos</option>
            <option value="soon">Próximos a vencer</option>
            <option value="valid">Vigentes</option>
          </select>
        </div>
      </div>

      <div class="table-container">
        <table>
          <thead>
            <tr>
              <th data-sort="name">Producto <i class="fas fa-sort"></i></th>
              <th data-sort="category">Categoría <i class="fas fa-sort"></i></th>
              <th data-sort="quantity">Cantidad <i class="fas fa-sort"></i></th>
              <th data-sort="expiry">Vencimiento <i class="fas fa-sort"></i></th>
              <th data-sort="location">Ubicación <i class="fas fa-sort"></i></th>
              <th data-sort="supplier">Proveedor <i class="fas fa-sort"></i></th>
              <th data-sort="price">Precio <i class="fas fa-sort"></i></th>
              <th>Acciones</th>
            </tr>
          </thead>
          <tbody id="productTable"></tbody>
        </table>
      </div>

      <div class="table-footer">
        <div class="pagination">
          <button class="btn-pagination" id="prevPage"><i class="fas fa-chevron-left"></i></button>
          <span id="pageInfo">Página 1 de 1</span>
          <button class="btn-pagination" id="nextPage"><i class="fas fa-chevron-right"></i></button>
        </div>
        <div class="table-info" id="tableInfo">Mostrando 0 de 0 productos</div>
      </div>
    </section>
  </main>


  <div id="productModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3 id="modalTitle">Agregar Producto</h3>
        <button class="close-modal">&times;</button>
      </div>
      <div class="modal-body">
        <form id="productForm">
          <input type="hidden" id="productId" />
          <div class="form-group">
            <label for="productName">Nombre del Producto</label>
            <input type="text" id="productName" required />
          </div>
          <div class="form-group">
            <label for="productCategory">Categoría</label>
            <select id="productCategory" required>
              <option value="">Seleccione una categoría</option>
              <option value="Conservas Saladas">Conservas Saladas</option>
              <option value="Conservas Dulces">Conservas Dulces</option>
              <option value="Pescados y Mariscos">Pescados y Mariscos</option>
              <option value="Frutas en Conserva">Frutas en Conserva</option>
              <option value="Salsas">Salsas</option>
            </select>
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="productQuantity">Cantidad</label>
              <input type="number" id="productQuantity" min="1" required />
            </div>
            <div class="form-group">
              <label for="productUnit">Unidad</label>
              <select id="productUnit" required>
                <option value="latas">Latas</option>
                <option value="frascos">Frascos</option>
                <option value="unidades">Unidades</option>
                <option value="kg">Kg</option>
              </select>
            </div>
          </div>
          <div class="form-group">
            <label for="productExpiry">Fecha de Vencimiento</label>
            <input type="date" id="productExpiry" required />
          </div>
          <div class="form-group">
            <label for="productLocation">Ubicación</label>
            <input type="text" id="productLocation" required />
          </div>
          <div class="form-group">
            <label for="productSupplier">Proveedor</label>
            <input type="text" id="productSupplier" required />
          </div>
          <div class="form-group">
            <label for="productPrice">Precio Unitario ($)</label>
            <input type="number" id="productPrice" min="0" step="0.01" required />
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn-secondary" id="cancelBtn">Cancelar</button>
        <button type="button" class="btn-primary" id="saveProduct">Guardar Producto</button>
      </div>
    </div>
  </div>

  <div id="confirmModal" class="modal">
    <div class="modal-content confirm-modal">
      <div class="modal-header">
        <h3>Confirmar Eliminación</h3>
        <button class="close-modal">&times;</button>
      </div>
      <div class="modal-body">
        <p>¿Está seguro de que desea eliminar este producto?</p>
      </div>
      <div class="modal-footer">
        <button class="btn-secondary" id="cancelDelete">Cancelar</button>
        <button class="btn-danger" id="confirmDelete">Eliminar</button>
      </div>
    </div>
  </div>

  <div id="userModal" class="modal">
    <div class="modal-content">
      <div class="modal-header">
        <h3>Registrar Usuario</h3>
        <button class="close-modal">&times;</button>
      </div>
      <div class="modal-body">
        <form id="userForm">
          <div class="form-group">
            <label for="userName">Nombre</label>
            <input type="text" id="userName" placeholder="Nombre y apellido" required />
          </div>
          <div class="form-group">
            <label for="userEmail">Email</label>
            <input type="email" id="userEmail" placeholder="usuario@empresa.com" required />
          </div>
          <div class="form-row">
            <div class="form-group">
              <label for="userRole">Rol</label>
              <select id="userRole" required>
                <option value="">Seleccione un rol</option>
                <option value="admin">admin</option>
                <option value="empleado">empleado</option>
              </select>
            </div>
            <div class="form-group">
              <label for="userPhone">Teléfono (opcional)</label>
              <input type="tel" id="userPhone" placeholder="+51 999 999 999" />
            </div>
          </div>
        </form>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn-secondary" id="cancelUser">Cancelar</button>
        <button type="button" class="btn-primary" id="createUser">Crear Usuario</button>
      </div>
    </div>
  </div>

  <script src="script.js"></script>
</body>
</html>
